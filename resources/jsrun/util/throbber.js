if(!PHP2Go.included[PHP2Go.baseUrl+'util/throbber.js']){Throbber=function(opts){this.element=($(opts.element)||null);this.parent=($(opts.parent)||document.body);this.centralize=PHP2Go.ifUndef(opts.centralize,true);this.onShow=opts.onShow||null;this.onHide=opts.onHide||null;this.setup();};Throbber.prototype.setup=function(){if(this.element)this.element.hide();this.onShow=(typeof(this.onShow)=='function'?this.onShow.bind(this):null);this.onHide=(typeof(this.onHide)=='function'?this.onHide.bind(this):null);var self=this;Event.addListener(window,'unload',self.hide);};Throbber.prototype.show=function(){var elm,elmDim,parDim,offset;var body=(this.parent==document.body);if(elm=this.element){if(this.onShow)this.onShow();if(this.centralize&&elm.style.position!='absolute')elm.style.position='absolute';elm.show();if(this.centralize){elmDim=elm.getDimensions();if(body){parDim=Window.size();offset=Window.scroll();}else{parDim=this.parent.getDimensions();offset=this.parent.getPosition();}elm.moveTo(((parDim.width-elmDim.width)/2)+offset.x,((parDim.height-elmDim.height)/2)+offset.y);}}};Throbber.prototype.hide=function(){if(elm=this.element){if(this.onHide)this.onHide();elm.hide();}};Throbber.prototype.isActive=function(){return(this.element.isVisible());};PHP2Go.included[PHP2Go.baseUrl+'util/throbber.js']=true;}